# 版本发布清单

## 📋 发布新版本时需要修改的文件

### 1. 更新版本号
**文件：`js/config.js`**
```javascript
export const APP_VERSION = '2.X'; // 修改为新版本号
export const FREE_MODE_ENABLED = true; // 根据需要调整
```

### 2. 更新HTML标题
**文件：`index.html`**
```html
<title>AI 智能单词陪练 (V2.X)</title> <!-- 修改版本号 -->
```

### 3. 创建新版本的更新日志
**新建文件：`changelog/v2.X.txt`**
- 按照现有格式编写更新内容
- 包含以下部分：
  - 🆕 新功能
  - 🔧 技术改进
  - 📋 部署说明
  - 兼容性信息

### 4. 更新更新日志索引
**文件：`changelog/index.json`**
```json
{
  "versions": [
    {
      "version": "2.X",
      "date": "2025-XX-XX",
      "file": "v2.X.txt",
      "title": "新版本功能描述"
    },
    // 保留之前的版本记录，按时间倒序排列
  ],
  "latest": "2.X"
}
```

## 🔄 版本发布流程

### 开发阶段
1. ✅ 完成新功能开发
2. ✅ 本地测试所有功能
3. ✅ 检查代码质量和性能

### 版本准备
4. ✅ 更新 `js/config.js` 中的版本号
5. ✅ 更新 `index.html` 中的标题版本号
6. ✅ 编写详细的更新日志文件
7. ✅ 更新 `changelog/index.json` 索引

### 发布前检查
8. ✅ 确认所有文件修改正确
9. ✅ 测试版本检测功能是否正常
10. ✅ 检查新用户和老用户的体验

### 部署发布
11. ✅ 提交所有更改到版本控制
12. ✅ 创建 Git 标签（可选）
13. ✅ 部署到生产环境
14. ✅ 验证线上功能正常

## 📝 更新日志模板

```markdown
# AI 智能单词陪练 v2.X 更新日志

## 🆕 新功能

### 功能名称
- 功能描述
- 使用方法说明

## 🔧 技术改进

### 性能优化
- 具体改进内容
- 影响范围说明

### 用户界面改进
- UI/UX 改进内容
- 用户体验提升

## 📋 部署说明

### 环境变量配置
- 新增或修改的环境变量
- 配置说明

### 兼容性
- 向后兼容性说明
- 破坏性更改（如有）

---

**发布日期**: 2025年X月X日  
**版本号**: v2.X  
**兼容性**: 向后兼容/不兼容说明
```

## 🤖 自动化建议

### 创建发布脚本
可以创建一个 `release.sh` 脚本来自动化部分流程：

```bash
#!/bin/bash
# 发布脚本示例
VERSION=$1
DATE=$(date +%Y-%m-%d)

# 更新版本号
sed -i "s/APP_VERSION = '.*'/APP_VERSION = '$VERSION'/" js/config.js
sed -i "s/(V.*)/V$VERSION)/" index.html

# 创建更新日志模板
cp changelog/template.txt changelog/v$VERSION.txt

echo "版本 $VERSION 准备完成，请手动编辑更新日志并更新索引文件"
```

### Git 标签管理
```bash
# 创建版本标签
git tag -a v2.X -m "Release version 2.X"
git push origin v2.X
```

## ⚠️ 注意事项

1. **版本号格式**：使用语义化版本号（如 2.1, 2.2）
2. **更新日志**：详细记录所有用户可见的更改
3. **测试**：确保新用户和老用户都能正常看到相应界面
4. **备份**：发布前备份重要数据
5. **回滚计划**：准备快速回滚方案

## 📞 发布后检查

- [ ] 新用户首次访问看到欢迎界面
- [ ] 老用户看到更新日志
- [ ] 所有功能正常工作
- [ ] 性能表现良好
- [ ] 错误监控正常

---

*此清单确保每次版本发布都能保持一致性和质量标准*
